
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shoppers</title>
    <link rel="stylesheet" href="./signup.css">
</head>
<body>
    <div id="maincont">
        <div id="cont">
            <div class="contsec">
                <div id="logoimgdiv">
                    <img src="./finprologo.png" alt="">
                </div>
                <div class="logchar">
                    <h3 style="color: white;">Have an Account?</h3>
                    <a href="./login.html">LOG IN</a>
                </div>
              </div>
            <div  class="secdiv">
               <div class="incont">
                  <h2>Shoppers</h2>
                  <p>Create an Account</p>
                    <div class="flname">
                        <div>
                            <p>First Name:</p>
                            <input id="fname" type="text" placeholder="First Name" required>
                        </div>
                        <div>
                            <p>Last Name:</p>
                            <input id="lname" type="text" placeholder="Last Name" required>
                        </div>
                  </div>
                  <p>Your Email:</p>
                  <input id="email" type="text" placeholder="Your Email" required>
                  <p>Password:</p>
                  <input id="pass" type="password" placeholder="Password" required>
                  <p>Confirm Password:</p>
                  <input id="cpass" type="password" placeholder="Confirm Password" required>
                  <div id="divbtn">
                        <button  id="signupbt" onclick="onSignup()">SIGN UP</button>
                  </div>
                  <p>or continue with</p>
                  <div class="horline">
                    <hr>
                  </div>
                  <div class="contwith"> 
                        <img src="Facebook.png" alt="">
                        <img src="apple.png" alt="">
                        <img src="google.png" alt="">
                  </div>
                </div> 
            </div>
        </div>
    </div>
</body>
<script>

// console.log(cpass)
const onSignup=()=>{
    let cpass=document.getElementById("cpass").value
    const payload = {
         fname:document.getElementById("fname").value,
         lname:document.getElementById("lname").value,
         email:document.getElementById("email").value,
         password:document.getElementById("pass").value
    }
    console.log(payload)
    if(payload.password==cpass)
    {
        fetch("https://adventurous-sweater-fox.cyclic.app/users/register",{
        method:"POST",
        headers:{
            "Content-type":"application/json"
        },
        body:JSON.stringify(payload)

    }).then(res=>res.json())
    .then(res=>{
        if(res.msg=="Email already exists")
        {
            alert("Email already exists ! please use another Email")
        }
        else{
            alert("Signup successful! You will now be redirected to the login page.");
            window.location.href = "login.html"}
        }
   
      )

    .catch(err=>consle.log(err))
    }
    else{
        alert("Password mismatched")
    }
   
}

</script>
</html>















<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIGNUP</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <div id="cont">
        <h1>Signup Page</h1>
        <input type="text" id="name" placeholder="Enter your name.....">
        <input type="text" id="email" placeholder="Enter your email.....">
        <input type="password" id="pass" placeholder="Enter your password.....">
        <input type="number" id="age" placeholder="Enter your age.....">
        <button onclick="onSignup()">Sign Up</button>
        <h4>Already have a account ? </h4> <button><a href="./login.html">Login</a></button>
    </div>
</body>
</html>
<script>
const onSignup=()=>{
    const payload = {
        name:document.getElementById("name").value,
        email:document.getElementById("email").value,
        password:document.getElementById("pass").value,
        age:document.getElementById("age").value
    }
    // console.log(payload)
    fetch("http://localhost:8080/users/register",{
        method:"POST",
        headers:{
            "Content-type":"application/json"
        },
        body:JSON.stringify(payload)

    }).then(res=>res.json())
    .then(res=>{
        console.log(res)
    alert("Signup successful! You will now be redirected to the login page.");
      window.location.href = "login.html"})

    .catch(err=>consle.log(err))
}


</script> -->